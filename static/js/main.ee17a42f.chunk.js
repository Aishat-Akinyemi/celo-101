(this.webpackJsonpgainer=this.webpackJsonpgainer||[]).push([[0],{1002:function(e,t,n){},1010:function(e,t,n){},1011:function(e,t,n){},1012:function(e,t,n){},1013:function(e,t,n){},1016:function(e,t,n){"use strict";n.r(t);var a=n(8),s=n.n(a),c=n(465),r=n.n(c),i=(n(476),n(24)),o=n(62),u=n(29),l=n(466),p=n.n(l),d=n(469),b=n(136),j=(n(1002),n(9)),f=function(e){var t=e.balance;return Object(j.jsxs)("div",{className:"nav",children:[Object(j.jsx)("div",{className:"nav-1",children:"Gainers"}),Object(j.jsxs)("div",{className:"nav-2",children:[Object(j.jsx)("div",{className:"nav-item",children:Object(j.jsx)(b.b,{to:"/",children:"Home"})}),Object(j.jsx)("div",{className:"nav-item",children:Object(j.jsx)(b.b,{to:"/dashboard",children:"Dashboard"})}),Object(j.jsx)("div",{className:"nav-item",children:Object(j.jsx)(b.b,{to:"/create",children:"Create"})})]}),Object(j.jsx)("div",{className:"nav-3",children:Object(j.jsxs)("div",{children:[t," cUSD"]})})]})},m=n(135),y=n.n(m),v=n(26),h=n.n(v),O=(n(1010),function(e){var t=e.goods,n=e.buyGood,a=e.wallet;return Object(j.jsx)("div",{className:"home",children:null===t||void 0===t?void 0:t.map((function(e){return Object(j.jsxs)("div",{className:"good-card",children:[Object(j.jsx)("div",{className:"good-image",children:Object(j.jsx)("img",{src:e.image})}),Object(j.jsxs)("div",{className:"good-details",children:[Object(j.jsxs)("div",{className:"good-details-d",children:[Object(j.jsx)("div",{className:"owner",children:(t=e.owner,Object(j.jsx)(y.a,{diameter:50,seed:Object(m.jsNumberForAddress)(t)}))}),Object(j.jsxs)("div",{className:"price",children:["$",h()(e.price).shiftedBy(-18).toString()]})]}),Object(j.jsxs)("div",{className:"good-props",children:[Object(j.jsx)("div",{className:"good-name",children:e.name}),Object(j.jsx)("div",{className:"good-description",children:e.description})]}),Object(j.jsxs)("div",{className:"good-details-s",children:["Sold ",e.sales]}),e.owner!==a&&Object(j.jsx)("div",{className:"buy-button",onClick:function(){return n(e.id,e.price)},children:"Buy"})]})]});var t}))})}),x=(n(1011),function(e){var t=e.createGood,n=s.a.useState(),a=Object(u.a)(n,2),c=a[0],r=a[1],i=s.a.useState(),o=Object(u.a)(i,2),l=o[0],p=o[1],d=s.a.useState(),b=Object(u.a)(d,2),f=b[0],m=b[1],y=s.a.useState(),v=Object(u.a)(y,2),h=v[0],O=v[1];return Object(j.jsxs)("div",{className:"create",children:[Object(j.jsx)("div",{className:"form-title",children:"Create new good"}),Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)("input",{type:"text",placeholder:"Enter goods name",onChange:function(e){return r(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"Enter goods description",onChange:function(e){return m(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"Enter goods image URL",onChange:function(e){return p(e.target.value)}}),Object(j.jsx)("input",{type:"number",placeholder:"Enter goods price",onChange:function(e){return O(e.target.value)}}),Object(j.jsx)("div",{className:"create-button",onClick:function(){return t(c,f,l,h)},children:"Create"})]})]})}),g=(n(1012),function(e){var t=e.topBuyer,n=e.topBuyerNumber,a=e.topSpender,s=e.topSpenderNumber,c=function(e){return Object(j.jsx)(y.a,{diameter:80,seed:Object(m.jsNumberForAddress)(e)})},r=function(e){if(e)return e.slice(0,5)+"..."+e.slice(e.length-4,e.length)};return Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsxs)("div",{className:"section",children:[Object(j.jsx)("div",{className:"section-title",children:"Top Spender"}),Object(j.jsx)("hr",{}),a?Object(j.jsxs)("div",{className:"section-details",children:[Object(j.jsx)("div",{className:"icon",children:c(a)}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:"https://alfajores-blockscout.celo-testnet.org/address/".concat(a,"/transactions"),children:r(a)})}),Object(j.jsxs)("div",{className:"value",children:["$",h()(s).shiftedBy(-18).toString()," spent"]})]}):Object(j.jsx)("div",{style:{textAlign:"center"},children:"None yet"})]}),Object(j.jsxs)("div",{className:"section",children:[Object(j.jsx)("div",{className:"section-title",children:"Top Buyer"}),Object(j.jsx)("hr",{}),t?Object(j.jsxs)("div",{className:"section-details",children:[Object(j.jsx)("div",{className:"icon",children:c(t)}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{href:"https://alfajores-blockscout.celo-testnet.org/address/".concat(t,"/transactions"),children:r(t)})}),Object(j.jsxs)("div",{className:"value",children:[n," purchases"]})]}):Object(j.jsx)("div",{style:{textAlign:"center"},children:"None yet"})]})]})}),w=n(18),N=n(470),T=n(471),S=(n(1013),"0x3B8eD3703bD1A2EF87BDc57082Bc13e76c765Db4");var k=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(0),r=Object(u.a)(c,2),l=r[0],m=r[1],y=Object(a.useState)(),v=Object(u.a)(y,2),k=v[0],B=v[1],C=Object(a.useState)(),M=Object(u.a)(C,2),_=M[0],F=M[1],E=Object(a.useState)(),G=Object(u.a)(E,2),A=G[0],D=G[1],P=Object(a.useState)(),J=Object(u.a)(P,2),L=J[0],U=J[1],I=Object(a.useState)(),Y=Object(u.a)(I,2),$=Y[0],H=Y[1],K=Object(a.useState)(),R=Object(u.a)(K,2),W=R[0],q=R[1],z=Object(a.useState)(),Q=Object(u.a)(z,2),V=Q[0],X=Q[1],Z=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new n.web3.eth.Contract(T,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1"),e.next=3,a.methods.approve(S,t).send({from:n.defaultAccount});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=20;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new p.a(window.celo),n=Object(d.newKitFromWeb3)(t),e.next=8,n.web3.eth.getAccounts();case 8:a=e.sent,c=a[0],n.defaultAccount=c,s(n),F(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:e.next=21;break;case 20:alert("You need to install the celo wallet extension in order to use this app");case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,a,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getTotalBalance(_);case 3:t=e.sent,a=t.cUSD.shiftedBy(-18).toFixed(2),s=new n.web3.eth.Contract(N,S),m(a),D(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,a,s,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.methods.getCounter().call();case 3:t=e.sent,n=[],a=Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(){var e=Object(o.a)(Object(i.a)().mark((function e(n){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.methods.checkGood(t).call();case 2:a=e.sent,n({id:a[0],owner:a[1],name:a[2],description:a[3],image:a[4],price:a[5],sales:a[6]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:a=e.sent,n.push(a);case 4:case"end":return e.stop()}}),e)})),s=0;case 7:if(!(s<t)){e.next=12;break}return e.delegateYield(a(s),"t0",9);case 9:s++,e.next=7;break;case 12:return e.next=14,Promise.all(n);case 14:c=e.sent,B(c),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(0),console.log(e.t1);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.methods.getTopBuyer().call();case 3:return t=e.sent,e.next=6,A.methods.getTopBuyerNumber(t).call();case 6:n=e.sent,U(t),H(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.methods.getTopSpender().call();case 3:return t=e.sent,e.next=6,A.methods.getTopSpenderNumber(t).call();case 6:n=e.sent,q(t),X(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n,a,s){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=new h.a(s).shiftedBy(18).toString(),e.next=4,A.methods.createGood(t,n,a,c).send({from:_});case 4:alert("Created goods successfully. Please refresh page"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error creating good: "+e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,s){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.prev=8,e.next=11,A.methods.buyGood(t).send({from:_});case 11:alert("purchase successful. Please refresh page"),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(8),console.log(e.t1);case 17:case"end":return e.stop()}}),e,null,[[0,5],[8,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){ee()}),[]),Object(a.useEffect)((function(){n&&_&&te()}),[n,_]),Object(a.useEffect)((function(){A&&(ne(),ae(),se())}),[A]),Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)(f,{balance:l}),Object(j.jsxs)(w.c,{children:[Object(j.jsx)(w.a,{path:"/",element:Object(j.jsx)(O,{goods:k,buyGood:re,wallet:_})}),Object(j.jsx)(w.a,{path:"/dashboard",element:Object(j.jsx)(g,{topBuyer:L,topBuyerNumber:$,topSpender:W,topSpenderNumber:V})}),Object(j.jsx)(w.a,{path:"/create",element:Object(j.jsx)(x,{createGood:ce})})]})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1020)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};n(1014);r.a.render(Object(j.jsx)(k,{}),document.getElementById("root")),B()},470:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"buyGood","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_index","type":"uint256"}],"name":"checkGood","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address payable","name":"owner","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"salesCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_name","type":"string"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"string","name":"_image","type":"string"},{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"createGood","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getCounter","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTopBuyer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_buyer","type":"address"}],"name":"getTopBuyerNumber","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTopSpender","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_spender","type":"address"}],"name":"getTopSpenderNumber","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},471:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},476:function(e,t,n){},491:function(e,t){},494:function(e,t){},498:function(e,t){},499:function(e,t){},524:function(e,t){},526:function(e,t){},540:function(e,t){},542:function(e,t){},556:function(e,t){},575:function(e,t){},577:function(e,t){},589:function(e,t){},596:function(e,t){},597:function(e,t){},599:function(e,t){},606:function(e,t){},613:function(e,t){},621:function(e,t){},628:function(e,t){},674:function(e,t){},704:function(e,t){},710:function(e,t){},711:function(e,t){},731:function(e,t){},738:function(e,t){},745:function(e,t){},827:function(e,t){},842:function(e,t){},871:function(e,t){}},[[1016,1,2]]]);
//# sourceMappingURL=main.ee17a42f.chunk.js.map